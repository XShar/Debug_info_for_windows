# Debug_info_for_windows
 Вывод отладочной информации в файл через API


Часто при написании серьёзных программ, в том-числе и вредоносных (Хе-Хе), возможность удобной отладки очень много значит  и от этого зависит собственно скорость разработки софта и своевременной правки багов.

Можно отлаживать стандартным отладчиом IDE, например в Visual Studio отличный отладчик, можно использовать сторонние также,  также иногда бывает полезно глянуть ассемблерный код, например если собирать в MSVC так cl 
1.cpp /Fa1.asm то компилятор в 1.asm сгенерирует листинг на ассемблере (Ключ /Fa означает сгенерировать листинг на ассемблере).

Тем не менее лично я предпочитаю делать отладку  в файл, либо printf в консоль.

Вообще отладка в файл предпочтительно по следующим причинам:

1.	Всегда её можно включить, если например у заказчика софта что-то отвалилось, при дебажном режиме будет лог.

2.	Часто нет возможности отладится стандартными средствами  даже в процессе разработки.

3.	Текстовый лог, это удобно, вы сами можете контроллировать уровень детализации лога.

Вообще делать можно по разному, но решил поделится своей наработкой:

Во первых, лично мне нравится формат  printf,  это оператор позволяет делать форматированный вывод (Т.е. вывод чисел в разных системах счисления, строк и т.д.).

Вот я и сделал, что-бы было тоже самое, но только в файл.

Для создания файла используются API винды.

Примеры:

Вывод строки:

DEBUG_TO_FILE("START TEST:\r\n");

Форматированный вывод числа:

DEBUG_TO_FILE("Hex_Value = %x Dec_Value = %d\r\n", value, value);

Вывод строки, через указатель

DEBUG_TO_FILE("Debug_Str = %s\r\n", str);

Всё оформлено в заголовочном файле debug_info.h достаточно подключить себе…

В репозитории есть пример.